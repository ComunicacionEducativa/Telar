{"ast":null,"code":"import _slicedToArray from\"/home/csgarciamartinez/Telar/telar-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from'react';import{io}from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),serverDate=_useState2[0],setServerDate=_useState2[1];var client=useRef();useEffect(function(){var socket=io('http://localhost:5000');socket.on('connect',function(){return console.log(\"Client connected: \".concat(socket.id));});socket.on('disconnect',function(reason){return console.log(\"Client disconnected: \".concat(reason));});socket.on('connect_error',function(reason){return console.log(\"Client connect_error: \".concat(reason));});socket.on('responseDate',function(msg){return setServerDate(msg);});client.current=socket;},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"App\",onClick:function onClick(){return client.current.emit('requestDate','need date');},children:\"Click to request date from server\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Server response: \",serverDate]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","useRef","io","App","serverDate","setServerDate","client","socket","on","console","log","id","reason","msg","current","emit"],"sources":["/home/csgarciamartinez/Telar/telar-client/src/App.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\n\nfunction App() {\n  const [serverDate, setServerDate] = useState('');\n  const client = useRef();\n\n  useEffect(() => {\n    const socket = io('http://localhost:5000');\n\n    socket.on('connect', () => console.log(`Client connected: ${socket.id}`));\n\n    socket.on('disconnect', (reason) =>\n      console.log(`Client disconnected: ${reason}`)\n    );\n\n    socket.on('connect_error', (reason) =>\n      console.log(`Client connect_error: ${reason}`)\n    );\n\n    socket.on('responseDate', (msg) => setServerDate(msg));\n\n    client.current = socket;\n  }, []);\n\n  return (\n    <>\n      <button\n        className=\"App\"\n        onClick={() => client.current.emit('requestDate', 'need date')}\n      >\n        Click to request date from server\n      </button>\n      <div>Server response: {serverDate}</div>\n    </>\n  );\n}\n\nexport default App;"],"mappings":"+HAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,OAASC,EAAT,KAAmB,kBAAnB,C,6IAEA,QAASC,IAAT,EAAe,CACb,cAAoCH,QAAQ,CAAC,EAAD,CAA5C,wCAAOI,UAAP,eAAmBC,aAAnB,eACA,GAAMC,OAAM,CAAGL,MAAM,EAArB,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMQ,OAAM,CAAGL,EAAE,CAAC,uBAAD,CAAjB,CAEAK,MAAM,CAACC,EAAP,CAAU,SAAV,CAAqB,iBAAMC,QAAO,CAACC,GAAR,6BAAiCH,MAAM,CAACI,EAAxC,EAAN,EAArB,EAEAJ,MAAM,CAACC,EAAP,CAAU,YAAV,CAAwB,SAACI,MAAD,QACtBH,QAAO,CAACC,GAAR,gCAAoCE,MAApC,EADsB,EAAxB,EAIAL,MAAM,CAACC,EAAP,CAAU,eAAV,CAA2B,SAACI,MAAD,QACzBH,QAAO,CAACC,GAAR,iCAAqCE,MAArC,EADyB,EAA3B,EAIAL,MAAM,CAACC,EAAP,CAAU,cAAV,CAA0B,SAACK,GAAD,QAASR,cAAa,CAACQ,GAAD,CAAtB,EAA1B,EAEAP,MAAM,CAACQ,OAAP,CAAiBP,MAAjB,CACD,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACE,wCACE,eACE,SAAS,CAAC,KADZ,CAEE,OAAO,CAAE,yBAAMD,OAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoB,aAApB,CAAmC,WAAnC,CAAN,EAFX,+CADF,cAOE,2CAAuBX,UAAvB,GAPF,GADF,CAWD,CAED,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}